#N canvas 424 315 1280 614 10;
#X obj 996 350 bendout;
#N canvas 431 533 362 235 interv 0;
#X msg 121 65 1;
#X obj 121 39 loadbang;
#X obj 69 40 inlet;
#X obj 69 195 outlet;
#X text 65 17 interval;
#X text 217 94 octave;
#X obj 202 136 * 12;
#X obj 69 162 + 48;
#X text 189 12 note array;
#X obj 195 41 r \$0-setnotearray;
#X obj 202 113 r \$0-setoctave;
#X obj 69 89 array get \$0-major;
#X connect 0 0 11 1;
#X connect 1 0 0 0;
#X connect 2 0 11 0;
#X connect 6 0 7 1;
#X connect 7 0 3 0;
#X connect 9 0 11 2;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X restore 584 301 pd interv;
#N canvas 0 89 450 250 (subpatch) 0;
#X array \$0-major 16 float 3;
#A 0 0 2 4 5 7 9 11 12 14 16 17 19 21 23 0 0;
#X coords 0 250 1 249 200 140 0;
#X restore 43 37 graph;
#X obj 584 226 - 1;
#X text 616 212 Intervals from 0 \, not 1, f 16;
#X text 676 316 Intervals to scale notes, f 14;
#X obj 584 254 t f f f f, f 13;
#X obj 609 277 + 2;
#X obj 634 277 + 4;
#X obj 659 277 + 6;
#N canvas 0 89 450 250 (subpatch) 0;
#X array \$0-minor 16 float 3;
#A 0 0 2 3 5 7 8 10 12 14 15 17 19 20 22 0 0;
#X coords 0 250 1 249 200 140 0;
#X restore 86 37 graph;
#X obj 913 375 s \$0-setoctave;
#X obj 120 292 s \$0-setnotearray;
#N canvas 431 533 362 235 interv 0;
#X msg 121 65 1;
#X obj 121 39 loadbang;
#X obj 69 40 inlet;
#X obj 69 195 outlet;
#X text 65 17 interval;
#X text 217 94 octave;
#X obj 202 136 * 12;
#X obj 69 162 + 48;
#X text 189 12 note array;
#X obj 195 41 r \$0-setnotearray;
#X obj 202 113 r \$0-setoctave;
#X obj 69 89 array get \$0-major;
#X connect 0 0 11 1;
#X connect 1 0 0 0;
#X connect 2 0 11 0;
#X connect 6 0 7 1;
#X connect 7 0 3 0;
#X connect 9 0 11 2;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X restore 609 326 pd interv;
#N canvas 431 533 362 235 interv 0;
#X msg 121 65 1;
#X obj 121 39 loadbang;
#X obj 69 40 inlet;
#X obj 69 195 outlet;
#X text 65 17 interval;
#X text 217 94 octave;
#X obj 202 136 * 12;
#X obj 69 162 + 48;
#X text 189 12 note array;
#X obj 195 41 r \$0-setnotearray;
#X obj 202 113 r \$0-setoctave;
#X obj 69 89 array get \$0-major;
#X connect 0 0 11 1;
#X connect 1 0 0 0;
#X connect 2 0 11 0;
#X connect 6 0 7 1;
#X connect 7 0 3 0;
#X connect 9 0 11 2;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X restore 634 351 pd interv;
#N canvas 431 533 362 235 interv 0;
#X msg 121 65 1;
#X obj 121 39 loadbang;
#X obj 69 40 inlet;
#X obj 69 195 outlet;
#X text 65 17 interval;
#X text 217 94 octave;
#X obj 202 136 * 12;
#X obj 69 162 + 48;
#X text 189 12 note array;
#X obj 195 41 r \$0-setnotearray;
#X obj 202 113 r \$0-setoctave;
#X obj 69 89 array get \$0-major;
#X connect 0 0 11 1;
#X connect 1 0 0 0;
#X connect 2 0 11 0;
#X connect 6 0 7 1;
#X connect 7 0 3 0;
#X connect 9 0 11 2;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X restore 659 377 pd interv;
#X msg 120 208 symbol \$2-major;
#X msg 141 259 symbol \$2-minor;
#X obj 120 186 pack 0 \$0;
#X obj 141 237 pack 0 \$0;
#X obj 660 467 + 0;
#X obj 830 273 - 1;
#X obj 120 110 select 1 2 3 4, f 15;
#X msg 191 156 0;
#X msg 221 156 1;
#X obj 704 398 r \$0-chord7ths;
#X obj 221 181 s \$0-chord7ths;
#X obj 659 421 spigot 0;
#X text 251 148 Enable/disable 7th chords, f 14;
#X obj 790 93 netreceive -u -b;
#X obj 790 119 oscparse;
#X msg 790 66 listen 20331;
#X obj 789 177 list trim;
#X obj 790 144 list split 3;
#X obj 581 177 noteout 1;
#X obj 569 144 unpack f f;
#X obj 515 198 unpack f f;
#X obj 790 40 loadbang;
#X obj 120 86 r \$0-chordScale;
#X obj 872 415 s \$0-chordScale;
#X obj 569 111 route 1 16;
#X obj 544 514 noteout 16;
#X obj 922 289 pgmout;
#X msg 955 264 \$1;
#X msg 922 242 \$2;
#X obj 922 264 + 1;
#X text 925 309 Set patch;
#X text 452 116 Chord root notes (1-7) on MIDI chan 16, f 17;
#X msg 996 325 \$2;
#X text 16 403 A message: /P2Jcli/0/P2JoR \, 'sf' \, 'cOctave' \, value
;
#X text 12 531 local packet = oLvosc.oscPacket('/P2Jcli/0/P2JoR' \,
'si' \, 'cOctave' \, value), f 76;
#X text 13 545 oLvosc.sendOSC(cudp \, packet);
#X text 26 436 The send msg format: addr \, types \, followed by data.
\; In this example---------------------------------------- The first
data item (str) is the receive obj name \; The second item (float)
is the data \;, f 56;
#X text 29 19 Chord scale-note arrays;
#X text 12 509 Lua code (cudp is the UDP client name):;
#X text 259 16 The 'pure' PD version of 'simpletina';
#X obj 789 202 route @n key chordScale cOctave @sendprogc @b @c, f
49;
#X obj 1038 289 ctlout;
#X msg 1035 325 \$1;
#X msg 1038 261 \$3;
#X msg 1054 235 \$2;
#X msg 1071 266 \$1;
#X text 279 31 (Original version for pd2jack);
#X text 894 35 Vanilla PD requires explicity receiving and interpreting
OSC packets from the oLvosc (Lua) sender., f 39;
#X text 642 156 Keys notes \, chan 1;
#X text 546 534 chords \, chan 16;
#X text 1018 371 Bend keys (chan 1), f 10;
#X text 1091 284 CC mod (chan 1), f 8;
#X text 917 392 Chords octave;
#X text 869 434 Chord scale base;
#X text 801 293 Chords key;
#X text 27 365 How to send general OSC data to a PD patch with the
Lua "oLvosc" OSC Module., f 45;
#X text 925 129 pd2jack captures OSC directly through notein \, bendin
\, ctlin \, etc., f 36;
#X connect 1 0 20 0;
#X connect 3 0 6 0;
#X connect 6 0 1 0;
#X connect 6 1 7 0;
#X connect 6 2 8 0;
#X connect 6 3 9 0;
#X connect 7 0 13 0;
#X connect 8 0 14 0;
#X connect 9 0 15 0;
#X connect 13 0 20 0;
#X connect 14 0 20 0;
#X connect 15 0 27 0;
#X connect 16 0 12 0;
#X connect 17 0 12 0;
#X connect 18 0 16 0;
#X connect 19 0 17 0;
#X connect 20 0 41 0;
#X connect 21 0 20 1;
#X connect 22 0 18 0;
#X connect 22 0 23 0;
#X connect 22 1 19 0;
#X connect 22 1 23 0;
#X connect 22 2 24 0;
#X connect 22 2 18 0;
#X connect 22 3 24 0;
#X connect 22 3 19 0;
#X connect 23 0 26 0;
#X connect 24 0 26 0;
#X connect 25 0 27 1;
#X connect 27 0 20 0;
#X connect 29 0 30 0;
#X connect 30 0 33 0;
#X connect 31 0 29 0;
#X connect 32 0 56 0;
#X connect 33 1 32 0;
#X connect 35 0 34 0;
#X connect 35 1 34 1;
#X connect 36 0 3 0;
#X connect 36 1 41 1;
#X connect 37 0 31 0;
#X connect 38 0 22 0;
#X connect 40 0 35 0;
#X connect 40 1 36 0;
#X connect 43 0 42 1;
#X connect 44 0 45 0;
#X connect 45 0 42 0;
#X connect 48 0 0 0;
#X connect 56 0 40 0;
#X connect 56 1 21 0;
#X connect 56 2 39 0;
#X connect 56 3 11 0;
#X connect 56 4 43 0;
#X connect 56 4 44 0;
#X connect 56 5 58 0;
#X connect 56 5 48 0;
#X connect 56 6 61 0;
#X connect 56 6 60 0;
#X connect 56 6 59 0;
#X connect 58 0 0 1;
#X connect 59 0 57 0;
#X connect 60 0 57 1;
#X connect 61 0 57 2;
